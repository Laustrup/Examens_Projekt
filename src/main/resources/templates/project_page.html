<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../static.styles/project_page.css">
    <title th:text="${session.projectTitle}">Project</title>
</head>
<body>
<div class="header">
    <h2 th:text="${project.getTitle()}"></h2>
</div>
<section class="split-left">

    <section class="participant_form">
        <header><h3>Welcome</h3></header>
            <div class="participant_container">
                <form action="/project_page_update-participant_pressed" method="post">

                    <div class="ID_section">
                        <label for="participant_ID">ID</label>
                        <input type="text" id="participant_ID" name="participant_ID" th:placeholder="${participant.getId}">
                    </div>

                    <div class="password_section">
                        <label for="participant_password">Password</label>
                        <input type="password" id="participant_password" name="participant_password" th:placeholder="${participant.getPassword}" required>
                    </div>

                    <div class="name_section">
                        <label for="participant_name">Name</label>
                        <input type="text" id="participant_name" name="participant_name" th:placeholder="${participant.getName}" required>
                    </div>

                    <div class="position_section">
                        <label for="position">Position</label>
                        <input type="text" id="position" name="position" th:placeholder="${participant.getPosition}" required>
                    </div>

                    <div class="department_section">
                        <label for="department">Department</label>
                        <input type="text" id="department" name="department" th:placeholder="${participant.getDepartment.getDepName()}">
                    </div>

                    <p th:text="${Exception}"></p>

                    <button type="submit">Update participant</button>

                </form>
            </div>
    </section>

    <div th:if="${current_project eq 'add_participant'}"><header><h3><p th:text="${project.getTitle()}"></p></h3></header>
        <section class="project_form">
            <p th:text="${Exception}"></p>

            <form action="/add_participants" method="post">
                <p>Amount of participants:</p>
                <input type="number" name="amount">
            <div>
                    <label for="chosen_department">To department:</label>
                    <select name="chosen_department" id="chosen_department">
                        <option value="COPENHAGEN">COPENHAGEN</option>
                        <option value="OSLO">OSLO</option>
                        <option value="DALLAS">DALLAS</option>
                        <option value="LOS ANGELES">LOS ANGELES</option>
                        <option value="NEW YORK">NEW YORK</option>
                    </select>
            </div>
                <button type="submit">Add participants</button>
            </form>


            <form action="/accept_delete_of_project" method="post">
                <button type="submit">Delete project</button>
            </form>
            <p><a href="/direct_project_page" th:value="${project.getTitle()}" name="project_title"><button>Go back</button></a></p>
        </section>
    </div>

    <div th:if="${current_project eq 'start'}">

        <div>
        <form action="/direct_to_add_participants" method="post">
            <button type="submit">Go to add participants</button>
        </form>
        </div>

                <div>
                    <section class="project_form">
                        <div class="project_title_section">
                    <form action="/update_project" method="post">
                        <label for="new_project_title">Project Title</label>
                        <input type="text" id="new_project_title" name="new_project_title" th:placeholder="${project.getTitle}" required>
                        <button type="submit">Update title</button>
                    </form>
                </div>

            <div>
            <form action="/delete_project" method="post">
                <button type="submit">Delete project</button>
            </form>
            <p><a href="/"><button>Go back to start menu</button></a></p>
            </div>

        </section>
    </div>
    </div>
</section>

<section class="split-right">
    <div th:if="${current eq 'start'}"><header><h3>Phases</h3></header>

        <tr>
            <th>Estimated amount of work hours: <p th:text="${project.getTotalWorkhours()}"></p></th></th>
            <th>Estimated cost of project: <p th:text="${project.getTotalCost()}"></p></th>
        </tr>

        <form action="/direct_to_phase" method="post">
            <div th:each="phase : ${project.getPhases()}">
                <button type="submit" th:value="${phase.getTitle()}" name="phase_title"><p th:text="${phase.getTitle()}"></p></button>
            </div>
        </form>

        <form action="/add_phase" method="post">
            <button type="submit">Add new phase</button>
        </form>

    </div>
    <div th:if="${current eq 'phase'}">
        <section class="phase"><header><h3 th:text="${phase.getTitle()}"></h3></header>
            <div class="phase_container">

                <tr>
                    <th>Estimated amount of work hours: <p th:text="${phase.getTotalWorkhours()}"></p></th></th>
                    <th>Estimated cost of phase: <p th:text="${phase.getTotalCost()}"></p></th>
                </tr>

                <form action="direct_to_assignment" method="post">
                <div th:each="assignment : {phase.getAssignments()}">
                    <button type="submit" th:value="${assignment.getTitle()}" name="assignment_title"><p th:text="${assignment.getTitle()}"></p>
                        </pt></button>
                </div>
                </form>

                <form action="/add_assignment">
                    <h5>Add new assignment</h5>
                    <label for="new_assignment_title">Type title: </label>
                    <input type="text" id="new_assignment_title" name="title">
                    <label for="new_assignment_start">Type start of assignment</label>
                    <input type="text" id="new_assignment_start" name="start">
                    <label for="new_assignment_end">Type deadline of assignment</label>
                    <input type="text" id="new_assignment_end" name="start">
                    <button type="submit">Add new phase</button>
                </form>
                <p th:text="${Exception}"></p>

                    <div>
                        <form action="/update_phase" method="post">
                            <label for="phase_title">Project Title</label>
                            <input type="text" id="phase_title" name="phase_title" th:placeholder="${phase.getTitle()}" required>
                            <button type="submit">Update title</button>
                        </form>
                    </div>

                <div>
                    <p><a href="/accept_delete"><button>Delete phase</button></a></p>
                    <form action="/direct_project_page" method="post">
                        <button type="submit" th:value="${project.getTitle()}" name="project_title">Back to phases</pt></button>
                    </form>
                </div>

            </div>
        </section>
    </div>

    <div th:if="${current eq 'assignment'}">
        <section class="assignment"><header><h3 th:text="${assignment.getTitle()}"></h3></header>
            <div class="assignment_container">

                <tr>
                    <th>From: <p th:text="${assignment.getStart()}"></p></th>
                    <th>To: <p th:text="${assignment.getEnd()}"></p></th>
                    <th>Estimated amount of work hours: <p th:text="${assignment.getTotalAssignmentWorkhours()}"></p></th></th>
                    <th>Estimated cost of assignment: <p th:text="${assignment.getAssignmentTotalCost()}"></p></th>
                </tr>

                <form action="/direct_to_task" method="post">
                    <div th:each="task : {assignment.getTasks()}">
                        <input th:value="${task.getStart()}" name="task_start">
                        <input th:value="${task.getEnd()}" name="task_end">
                        <button type="submit" th:value="${task.getTitle()}" name="task_title"><p th:text="${task.getTitle()}"></p>
                            </pt></button>
                    </div>
                </form>

                <form action="/add_task">
                    <button type="submit">Add new task</button>
                </form>

                <form action="/update_assignment" method="post">
                    <div>
                        <label for="new_title">Change title</label>
                        <input type="text" id="new_title" name="new_title">
                        <label for="assignment_start">Change start of assignment</label>
                        <input type="text" id="assignment_start" name="assignment_start">
                        <label for="assignment_end">Change end of assignment</label>
                        <input type="text" id="assignment_end" name="assignment_end">

                        <button type="submit" th:value="${assignment.getTitle()}" name="assignment_title">Update assignment</button>
                    </div>
                </form>
                <p th:text="${Exception}"></p>

                <form action="/change_assignment_is_completed_status" method="post">
                    <button type="submit" name="assignment_title"><p th:text="${assignment.IsCompletedAsAString()}"></p></button>
                </form>

                <div>
                    <p><a href="/accept_delete"><button>Delete Assignment</button></a></p>
                    <form action="/direct_to_phase" method="post">
                        <button type="submit" th:value="${phase.getTitle()}" name="phase_title">Back to phases</pt></button>
                    </form>
                </div>

            </div>
        </section>
    </div>
    <div th:if="${current eq 'task'}">
        <section class="task">
            <header><h3 th:text="${task.getTitle()}"></h3></header>
            <div class="task_container">

                <tr>
                    <th>From: <p th:text="${task.getStart()}"></p></th>
                    <th>To: <p th:text="${task.getEnd()}"></p></th>
                    <th>Estimated amount of work hours: <p th:text="${task.getEstimatedWorkHours()}"></p></th>
                    <th>Estimated cost of task: <p th:text="${task.getTotalCost()}"></p></th>
                </tr>

                <form action="/direct_to_task" method="post">
                    <div th:each="task : {assignment.getTasks()}">
                        <input th:value="${task.getStart()}" name="task_start">
                        <input th:value="${task.getEnd()}" name="task_end">
                        <button type="submit" th:value="${task.getTitle()}" name="task_title"><p th:text="${task.getTitle()}"></p>
                            </pt></button>
                    </div>
                </form>

                <form action="/update_task" method="post">
                    <div>
                        <label for="task_new_title">Change title</label>
                        <input type="text" id="task_new_title" name="new_title">
                        <label for="task_start">Change start of assignment</label>
                        <input type="text" id="task_start" name="task_start">
                        <label for="task_end">Change end of assignment</label>
                        <input type="text" id="task_end" name="task_end">
                        <lavel for="task_work_hours">Change amount of workhours</lavel>

                        <button type="submit">Update assignment</button>
                    </div>
                </form>
                <p th:text="${Exception}"></p>

                <form action="/change_assignment_is_completed_status" method="post">
                    <button type="submit" name="assignment_title"><p th:text="${assignment.IsCompletedAsAString()}"></p></button>
                </form>

                <div>
                    <p><a href="/accept_delete"><button>Delete Assignment</button></a></p>
                    <form action="/direct_to_phase" method="post">
                        <button type="submit" th:value="${phase.getTitle()}" name="phase_title">Back to phases</button>
                    </form>
                </div>

                <form action="/join-task" method="post">
                    <input th:value="${task.getTitle()}" name="task_title">
                    <input th:value="${task.getStart()}" name="task_start">
                    <input th:value="${task.getEnd()}" name="task_end">
                    <button type="submit">Back to phases</button>
                </form>
            </div>
        </section>
    </div>

    </section>
</section>

</main>
</body>
</html>